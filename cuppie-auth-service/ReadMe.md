# Cuppie Forms

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)  
2. [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (Features)](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-features)  
3. [–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)  
4. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)  
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
7. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-api)  
11. [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
Cuppie Forms - —ç—Ç–æ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
 
### –î–ª—è —á–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç:

- –°—Ç–∞—Ä—Ç–∞–ø—ã –∏ MVP: –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –≥–æ—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –Ω–∞–¥–µ–∂–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û–±—É—á–µ–Ω–∏–µ: –∏–∑—É—á–µ–Ω–∏–µ Clean Architecture –∏ JWT –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

- E-commerce –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- CRM/ERP —Å–∏—Å—Ç–µ–º—ã: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- SaaS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: backend –¥–ª—è iOS/Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ –ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"  
‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (JWT + Refresh tokens)  
‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Clean Architecture)  
‚úÖ Docker-ready –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –¥–µ–ø–ª–æ—è  
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã  

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (Features)
- Clean Architecture: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ API, Application, Infrastructure, Domain, Tests  
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é Access JWT Token & Refresh Token    
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ - SHA‚Äë256 + —Å–æ–ª—å   
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è refresh‚Äë—Ç–æ–∫–µ–Ω–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∑—ã–≤–æ–º –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏  

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Backend**: ASP.NET¬†Core, Entity Framework Core  
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 16
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: xUnit  
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Traefik (proxy), Docker (Compose)  
- **Frontend**: Vite + React + TypeScript (–º–∏–Ω–∏–º—É–º –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
CuppieForms/
‚îú‚îÄ‚îÄ cuppie_forms_backend/             ‚Üê Backend (–ø–æ Clean Architecture)
‚îÇ   ‚îú‚îÄ‚îÄ Cuppie.Api/                   ‚Üê –°–ª–æ–π API (Web)
‚îÇ   ‚îú‚îÄ‚îÄ Cuppie.Application/           ‚Üê –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Cuppie.Infrastructure/        ‚Üê –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Cuppie.Domain/                ‚Üê –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (—è–¥—Ä–æ)
‚îÇ   ‚îî‚îÄ‚îÄ Cuppie.Tests/                 ‚Üê –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ cuppie_forms_front/              ‚Üê Frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ compose.yaml                     ‚Üê Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### –°–∫–∞—á–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 
[.NET SDK 9](https://dotnet.microsoft.com/en-us/download)

[Docker desktop](https://www.docker.com/get-started/)

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Cuppie24/Cuppie-Forms.git
   cd Cuppie-Forms
   ```

### –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `cuppie_forms_backend`
```
dotnet restore
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ JWT:
–§–∞–π–ª `example.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–∞ `.env` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è JWT: 
`JWT__Key` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–æ–≤  
`JWT__Issuer` - –ö–µ–º –≤—ã–¥–∞–Ω —Ç–æ–∫–µ–Ω   
`JWT__Audience` - –ö–æ–º—É –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–∫–µ–Ω  
`JWT__AccessTokenExpiresInMinutes`- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ JWT —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö  
`JWT__RefreshTokenExpiresInMinutes` - –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö  

---

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î:
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`
```
DATABASE_CONNECTION_STRING=Host=db;Port=<Your port>;Database=<Your database name>;Username=<Your username>;Password=<your password>  
```
`Host` - –∞–¥—Ä–µ—Å –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –±–¥. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `db`  
`Database` - –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ë–î. –î–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `POSTGRES_DB`  
`Username` - –ø—Ä–æ–∑–∏–≤–æ–ª—å–Ω–æ–µ –∏–º—è. –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å `POSTGRES_USER`  
`Password` - –ø—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å. –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å `POSTGRES_PASSWORD`  

–î–∞–ª–µ–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î –∏ –æ–±–Ω–æ–≤–∏—Ç—å –µ–µ. –î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ `cuppie_forms_backend` –∏ –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã  
```
//—Å–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
dotnet ef migrations add InitialMigration --project ./src/Cuppie.Infrastructure --startup-project ./src/Cuppie.Api --context CuppieDbContext --output-dir Data/Migrations
//–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–Ω–∏–∂–µ)
``` 

---
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤
–í —Ñ–∞–π–ª–µ `compose.yaml` –≤ —Å—Ç—Ä–æ–∫–∞—Ö –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º —Å–≤–æ–∏ –¥–æ–º–µ–Ω—ã
```
- "traefik.http.routers.front.rule=Host(`cuppie.cup`)"
- "traefik.http.routers.api.rule=Host(`cuppie.api`)"
- "traefik.http.routers.dashboard.rule=Host(`cuppie.dashboard`)"
```
–≤ –º–æ–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ `cuppie.cup` –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞, `cuppie.api` –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ –∏ `cuppie.dashboard` –¥–ª—è Traefik dashboard. 
–ï—Å–ª–∏ –∂–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏ —É —Ç–µ–±—è –Ω–µ—Ç –¥–æ–º–µ–Ω–æ–≤, –≤ `hosts` —Å—Ç–∞–≤–∏–º –Ω—É–∂–Ω—ã–µ –Ω–∞–º –∞–¥—Ä–µ—Å–∞. –ü—Ä–∏–º–µ—Ä:
```
127.0.0.1   cuppie.cup
127.0.0.1   cuppie.api
127.0.0.1   cuppie.dashboard      
```
`cuppie.cup` - front  
`cuppie.api` - back  
`cuppie.dashboard` - Traefik dashboard, –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π  

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ —Ñ–∞–π–ª–µ `.env` –≤ —Å—Ç—Ä–æ–∫—É `FRONTEND_API_URL` –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∞–¥—Ä–µ—Å –±—ç–∫–µ–Ω–¥–∞, –∞ —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–µ—à–∞–ª –Ω–∞—à–µ–º—É —Ñ—Ä–æ–Ω—Ç—É –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –¥–æ–±–∞–≤–∏–º –∞–¥—Ä–µ—Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ `CORS` –≤ —Å—Ç—Ä–æ–∫–µ `CORS_ALLOWED_ORIGINS`. –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```
# Frontend API URL
FRONTEND_API_URL=https://cuppie.api
# CORS allowed origins separated by commas
CORS_ALLOWED_ORIGINS=https://cuppie.cup,https://other.client
```

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
–ü–æ–ª–æ–∂–∏ —Å–≤–æ–∏ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤ –ø–∞–ø–∫—É `/traefik/certs` –∏ —É–∫–∞–∂–∏ –ø—É—Ç—å –∫ –Ω–∏–º –≤ —Ñ–∞–π–ª–µ `/traefik/tls_dynamic.yml`:
```
tls:
  certificates:
    - certFile: /certs/local.crt
      keyFile: /certs/local.key
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Node.js](https://nodejs.org/) (–∞–∫—Ç—É–∞–ª—å–Ω—É—é LTS-–≤–µ—Ä—Å–∏—é).  
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:  
   npm install  
3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:  
   npm run build

```
//–û–±–Ω–æ–≤–ª—è–µ–º –ë–î
dotnet ef database update --project ./src/Cuppie.Infrastructure --startup-project ./src/Cuppie.Api --context CuppieDbContext 
```

docker-compose up --build
–ü–µ—Ä–µ–π—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

API:¬†https://cuppie.api/api/swagger  
Frontend:¬†https://cuppie.cup/

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

## –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

API –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ ASP.NET Core –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –í—Å–µ —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-only cookies –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**–ë–∞–∑–æ–≤—ã–π URL:** `https://cuppie.api/api` –∏–ª–∏ –¥—Ä—É–≥–æ–π, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "password123"
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º:**
- `username`: 1-30 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –¥–µ—Ñ–∏—Å –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ  
- `email`: –≤–∞–ª–∏–¥–Ω—ã–π email –∞–¥—Ä–µ—Å (–¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)  
- `password`: –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤  

**–û—Ç–≤–µ—Ç:**
```json
{
  "user": {
    "id": 1,
    "username": "john_doe",
    "email": "john@example.com"
  },
  "jwtToken": {
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "expiresInMinutes": 60
  },
  "refreshToken": {
    "token": "refresh_token_here",
    "expiresInMinutes": 10080
  }
}
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "john_doe",
  "password": "password123"
}
```

**–û—Ç–≤–µ—Ç:** –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

```http
POST /api/auth/refresh
Cookie: refreshToken=<refresh_token>
```

–¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è refresh —Ç–æ–∫–µ–Ω–∞ –≤ cookies –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ JWT —Ç–æ–∫–µ–Ω–∞.

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

```http
GET /api/auth/me
Cookie: jwt=<jwt_token>
```

–¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è JWT —Ç–æ–∫–µ–Ω–∞ –≤ cookies.

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "username": "john_doe",
  "email": "john@example.com"
}
```

### –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

```http
POST /api/auth/logout
```

–£–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω—ã –∏–∑ cookies.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞

```http
GET /api/auth/health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T12:00:00Z"
}
```

## –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

```http
GET /api/pages/home/get
Cookie: jwt=<jwt_token>
```

–¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω –≤ cookies.

**–û—Ç–≤–µ—Ç:**
```json
{
  "message": "–ü–∞—Ä–æ–ª—å –æ—Ç wifi –Ω–∞ –¥–∞—á–µ: qwert123"
}
```

## –†–∞–±–æ—Ç–∞ —Å cookies

API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ cookies –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

- `jwt` - JWT —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
- `refreshToken` - —Ç–æ–∫–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è JWT  

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã cookies:**
- `HttpOnly: true` - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è JavaScript  
- `SameSite: None` - —Ä–∞–∑—Ä–µ—à–∞—é—Ç cross-site –∑–∞–ø—Ä–æ—Å—ã  
- `Secure: true` - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ HTTPS  

## –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- `200 OK` - —É—Å–ø–µ—à–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è  
- `400 Bad Request` - –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏  
- `401 Unauthorized` - –Ω–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ —Ç–æ–∫–µ–Ω  
- `404 Not Found` - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω  
- `409 Conflict` - –∫–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)  

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript (fetch)

```javascript
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
const response = await fetch('/api/auth/register', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  credentials: 'include', // –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies
  body: JSON.stringify({
    username: 'john_doe',
    email: 'john@example.com',
    password: 'password123'
  })
});

const data = await response.json();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
const homeResponse = await fetch('/api/pages/home/get', {
  credentials: 'include'
});

const homeData = await homeResponse.json();
```

### curl

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST https://your-domain.com/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"john_doe","email":"john@example.com","password":"password123"}' \
  -c cookies.txt

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
curl -X GET https://your-domain.com/api/pages/home/get \
  -b cookies.txt
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:

```json
{
  "type": "https://tools.ietf.org/html/rfc7231#section-6.5.1",
  "title": "–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
  "status": 400,
  "detail": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏.

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:

```json
{
  "type": "https://tools.ietf.org/html/rfc7231#section-6.5.1",
  "title": "–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
  "status": 400,
  "detail": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏.

# –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).
